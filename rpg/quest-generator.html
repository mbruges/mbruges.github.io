<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="/favicon.svg">
    <link rel="stylesheet" href="/style.css">
    <meta charset="utf-8">
    <meta name="description" content="Automatically generated questlines for tabletop RPGs. Seeking a new adventure? Pull up a a seat by the fire, and ask the innkeeper if he's heard any rumours...">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest Generator</title>

    <!--SHARE TAGS-->
    <meta prefix="og: http://ogp.me/ns#" property="og:type" content="website" />
    <meta prefix="og: http://ogp.me/ns#" property="og:title" content="MBruges.com" />
    <meta prefix="og: http://ogp.me/ns#" property="og:description" content="Seeking a new quest? Pull up a a seat by the fire, and ask the innkeeper if he's heard any rumours... Automatically generated questlines for tabletop RPGs" />
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://mbruges.com/images/banner-square.png" />
    <meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://mbruges.com/rpg/quest-generator.html" />

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Quest Generator">
    <meta name="twitter:site" content="@max_bruges">
    <meta name="twitter:description" content="Automatically generated questlines for tabletop RPGs. Seeking a new adventure? Pull up a a seat by the fire, and ask the innkeeper if he's heard any rumours...">
    <meta name="twitter:image" content="https://mbruges.com/images/banner-square.png">

<script src="/markdown-it.min.js">
</script>
<script>
    function convertMD(input,output) {
                const mdRenderer = window.markdownit();
                const html = mdRenderer.render(input);
                return html
            }
</script>

<script>
window.onload = () => {
    var rand = Math.floor(Math.random() * 20)
}
function questGenerator(param) {
    document.getElementById('rumour-response').className = ""
    //var param = "" + document.getElementById('userButton').value
    document.getElementById('questlog').className = "hidden"
    console.log(param)
    fetch('/rpg/quests.json')
    .then((response) => response.json())
    .then((json) => { 
        var response = "I can't help you there, friend."
        
        if (param == 'rumour') {
            let len = json.length
            rand = Math.floor(Math.random() * len)
            response = "" + json[rand].rumour
            response = convertMD(response)
            document.getElementById('rumour-response').innerHTML = response
            document.getElementById('quest-plan').className = ""
        }

        if (param == 'quest') {
            response = "" + json[rand].questline
            response = convertMD(response)
            document.getElementById('questlog').className = ""
            document.getElementById('questlog').innerHTML = 
            `<br><br>
<div style="padding:10%:">${response}</div>
<br>`
        }
        
})
}

</script>

<audio autoplay>
    <source src="/images/tavern.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>


 <div id="toastAlert"></div>
</head>

<body style="background-color: black;max-height: fit-content;min-height: fit-content;font-family:Georgia, serif;font-size: 110%;">
    <header style="padding: 3px;">
        <nav>
            <div class="dropdown">
                <a id="catNav"><img alt="miaow" src="/favicon.svg" height="40" width="40" ></a>
                <div class="dropdown-content">
                    <a href="/experiments.html">Experiments</a>
                    <a href="/resources.html">Resources</a>
                    <a href="/blog.html">Blog</a>
                </div>
            </div>
            <ul>
                <li><a href="/index.html" style="color:antiquewhite;font-size: smaller;"> Home </a></li>
            </ul>
        </nav>
    </header>

<div style="min-height: 75vh;
background-size: 100%;
background-image: linear-gradient(
    to bottom, transparent, #070605
  ), url('/images/tavern.png');
  border-width: 5px;
  border-color: black;
  background-repeat: no-repeat;
padding-left: 3%;text-align: center;max-height: fit-content;">

<div style="max-width: 700px;display: block;margin-left: auto;margin-right: auto;">

<button id="userButton" 
style="padding: 5px;width: 170px;height:70px;margin-left: auto;margin-right: 90%; font-family:Georgia, 'Times New Roman', Times, serif;border-color: beige;"
onclick="questGenerator(this.value)"
value="rumour"
>Heard any new rumours lately?</button> 
 

<div id="rumour-response"
class="hidden"
style="
            margin-right: 2%;
            margin-left: auto;
            padding:2%;
            max-width:450px;
            max-height: fit-content;
            width: fit-content; 
            text-align: right;
            display: block;
            background-color: antiquewhite;
            color: black;
            border-color: black;
            border-radius: 3%;
            border-style: groove;
            border-width: 6px;
            overflow-x: scroll;">
    <p>Well now, let me think...</p>
        </div>

<button id="quest-plan" style="padding: 5px;width: 170px;height:70px;margin-left: auto;margin-right: 90%; font-family:Georgia, 'Times New Roman', Times, serif;border-color: beige;" value="quest" class="hidden"
    onclick="questGenerator(this.value)">Plan quest...</button>
</div>
<div id="questlog"
style="
background-image:url('/images/parchment2.png');
background-size: 100% 100%;
width: 50vw;
font-size: 110%;
max-width: 750px;
min-height: fit-content;
min-width:350px;
display:block;
margin-left: auto;
margin-right: auto;
padding-left: 5%;
padding-top: 3%;
padding-right: 3%;
padding-bottom: 10%;
text-align: left;"
class="hidden">
<br>
<h4>Quest Log</h1>
<p>-> Go to tavern<br>-> Seek fortune</p>
<br>
</div>
</div>
<br>

    <footer style="line-height: 50%;padding-top: 1%;">
        <small style="color:gainsboro">¬© 2023 - <i> Made by <a style="color:gainsboro" href="/about.html" target="_blank">me
                </a> and Agatha</i> üêà‚Äç
        <i>Found this interesting? <a style="color:gainsboro" href="mailto:hello@mbruges.com?subject=Hello from the Internet"
                    style="font-style: normal;"> Drop me a line üìÆ</a> 
<details>
    <summary>Music by Kevin MacLeod</summary>
    <p style="line-height: 100%;">The following music was used for this media project:
        Music: Folk Round by Kevin MacLeod
        Free download: https://filmmusic.io/song/3770-folk-round
        License (CC BY 4.0): https://filmmusic.io/standard-license</p>
</details>
        </small>
    </footer>
    </body>


</html>